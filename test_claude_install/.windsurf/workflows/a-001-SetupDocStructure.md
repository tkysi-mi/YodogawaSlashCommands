---
description: プロジェクトのドキュメントディレクトリ構造を作成し、README で構成を説明する軽量セットアップワークフロー
auto_execution_mode: 1
---

# SetupDocStructure (a-001)



## 目的

- プロジェクトルートに標準化されたドキュメントディレクトリ構造を作成する。
- `docs/README.md` を作成し、ドキュメント構成と更新方針を明文化する。

## 前提

- プロジェクトのルートディレクトリへの書き込み権限があること。
- `docs/` ディレクトリが存在しない、または既存の構造を拡張したいこと。

## 手順

### 1. 現在の状態確認

- プロジェクトルートで `docs/` ディレクトリの存在を確認する：
  ```bash
  ls -la docs/ 2>/dev/null || echo "docs/ ディレクトリは存在しません"
  ```
- 既に `docs/` が存在する場合は、ユーザーに確認する：
  - 「既に `docs/` ディレクトリが存在します。既存の構造を保持したまま、不足しているディレクトリを追加しますか？」
  - ユーザーが「はい」と回答した場合のみ続行する。

### 2. ディレクトリ構造の作成

- 以下のディレクトリ構造を作成する：

```
docs/
├── project/
│   ├── 01-requirements/    # 要件定義
│   ├── 02-behavior/         # 振る舞い定義
│   ├── 03-domain/           # ドメインモデル
│   └── 04-design/           # 設計
└── tasks/                   # 個別タスク
```

- `mkdir -p` コマンドで一括作成：
  ```bash
  mkdir -p docs/project/01-requirements docs/project/02-behavior docs/project/03-domain docs/project/04-design docs/tasks
  ```

- 作成結果を確認：
  ```bash
  find docs/ -type d | sort
  ```

### 3. docs/README.md の作成

- `docs/README.md` が既に存在する場合は、ユーザーに確認する：
  - 「`docs/README.md` が既に存在します。上書きしますか、それとも既存のファイルを保持しますか？」

- 以下の内容で `docs/README.md` を作成（または上書き）：

```markdown
# プロジェクトドキュメント

このディレクトリには、プロジェクト全体のドキュメントと個別タスクのドキュメントを管理します。

## 構成

### project/
プロジェクト全体のドキュメント。要件定義、設計、アーキテクチャなど、プロジェクトスコープ全体に関わる情報を記載します。

- **01-requirements/**: 要件定義（システム概要、機能要件、非機能要件、ユーザーストーリーなど）
- **02-behavior/**: 振る舞い定義（シナリオ、ユースケース、ユーザージャーニーなど）
- **03-domain/**: ドメインモデル（エンティティ、用語集など）
- **04-design/**: 設計（アーキテクチャ、データモデル、API仕様など）

### tasks/
個別タスクのドキュメント。Issue やチケット単位で作成します。

## 更新方針

### プロジェクト全体のドキュメント (project/)
- プロジェクトのスコープ全体に影響する情報を記載
- チーム全体で共有すべき要件・設計・アーキテクチャを管理
- 更新時は関係者にレビューを依頼

### 個別タスクのドキュメント (tasks/)
- 特定の Issue やチケットに紐づく情報を記載
- タスク単位で作成・完了・アーカイブ
- 完了後は参照資料として保持、または削除

## ドキュメント作成ガイドライン

- **具体的**: 抽象的な表現を避け、数値・期限・制約を明確に記載
- **測定可能**: 成功基準やパフォーマンス目標を定量化
- **最新**: 変更があれば速やかに更新し、古い情報を残さない
- **簡潔**: 必要最低限の情報に絞り、詳細はコードやリンク先に委ねる
```

### 4. 作成結果の確認

- ディレクトリ構造とREADMEが正しく作成されたか確認：
  ```bash
  ls -R docs/
  ```

- ユーザーに作成結果を報告：
  ```
  ✅ ドキュメントディレクトリ構造を作成しました：

  docs/
  ├── README.md (作成済み - ドキュメント構成の説明)
  ├── project/
  │   ├── 01-requirements/
  │   ├── 02-behavior/
  │   ├── 03-domain/
  │   └── 04-design/
  └── tasks/

  次のステップ:
  - ドキュメントの作成を開始してください。
  ```

### 5. Git への追加（オプション）

- ユーザーに確認：「作成したディレクトリ構造を Git に追加しますか？」
- 「はい」の場合、以下を実行：
  ```bash
  git add docs/
  git status
  ```
- Git status の結果を表示し、コミットメッセージの提案をする：
  ```
  推奨コミットメッセージ:
  ドキュメント構造の初期化

  - 標準的な構造を持つ docs/ ディレクトリを追加
  - ドキュメント構成を説明する docs/README.md を追加
  ```

### 6. 完了条件の確認

- 以下の完了条件を満たしているか、チェックリストで確認してください：
  - [ ] `docs/` ディレクトリが作成されている
  - [ ] `docs/project/` 配下に `01-requirements/`, `02-behavior/`, `03-domain/`, `04-design/` ディレクトリが存在する
  - [ ] `docs/tasks/` ディレクトリが存在する
  - [ ] `docs/README.md` が作成されている

## 完了条件

- プロジェクトルートに `docs/` ディレクトリが作成されている。
- `docs/project/` 配下に `01-requirements/`, `02-behavior/`, `03-domain/`, `04-design/` ディレクトリが存在する。
- `docs/tasks/` ディレクトリが存在する。
- `docs/README.md` が作成されている。
- ユーザーに作成結果が報告されている。

## エスカレーション

- 既存の `docs/` ディレクトリが存在し、重要なファイルが含まれている場合：
  - 「既存のドキュメント構造が検出されました。上書きや削除のリスクがあるため、手動で確認してください。」と警告し、処理を中断する。
- ファイルシステムの権限エラーが発生した場合：
  - 「ディレクトリの作成に失敗しました。書き込み権限を確認してください。」とユーザーに通知する。
- Git リポジトリでない場合に Git 追加を試みた場合：
  - 「このディレクトリは Git リポジトリではありません。Git の初期化が必要な場合は `git init` を実行してください。」と案内する。